<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create Grid
cell_width = 32
cell_height = 32

hcells = room_width div cell_width
vcells = room_height div cell_height

global.grid = mp_grid_create(0,0,hcells,vcells,cell_width,cell_height)
mp_grid_add_instances(global.grid,objEnemy1,false)
mp_grid_add_instances(global.grid,objEnemy2,false)
mp_grid_add_instances(global.grid,objEnemy3,false)
mp_grid_add_instances(global.grid,objEnemy4,false)
mp_grid_add_instances(global.grid,objEnemy5,false)
mp_grid_add_instances(global.grid,objEnemy6,false)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables
//instance_create(x,y,objViewFinder) //for following player
global.MovementAllow = false
global.Notifx = 0
global.Notify = 0
Z = 0
Pause = false
quitting = false
Set = 0
SetQ = 0
MAX = 0
Bcar0 = true
    C = false
Setprevious = 0
mouse_xprevious = 0
mouse_yprevious = 0

t = 0;
increment = 3; //1
amplitude = 6; //peak
yy = y;

        xa = 4
        ya = 4
        xb = 140
        yb = 14
        
        xc = 4
        yc = 15
        xd = 140
        yd = 25
        
        xe = 4
        ye = 26
        xf = 140
        yf = 36
        
        xg = 4
        yg = 37
        xh = 140
        yh = 47
        
        xi = 4
        yi = 48
        xj = 140
        yj = 58
        
        xk = 4
        yk = 59
        xl = 140
        yl = 69

        
global.enemyPos[1,1] = 160
global.enemyPos[1,2] = 180

global.enemyPos[2,1] = 200
global.enemyPos[2,2] = 90

global.enemyPos[3,1] = 120
global.enemyPos[3,2] = 270

global.enemyPos[4,1] = 80
global.enemyPos[4,2] = 180

global.enemyPos[5,1] = 120
global.enemyPos[5,2] = 90

global.enemyPos[6,1] = 40
global.enemyPos[6,2] = 270

global.allyPos[1,1] = 460
global.allyPos[1,2] = 90

global.allyPos[2,1] = 540
global.allyPos[2,2] = 270
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Spawning
/*
if room = rm_Fight{
        objAlly1.x = global.allyPos[1,1]
        objAlly1.y = global.allyPos[1,2]

        objAlly2.x = global.allyPos[2,1]
        objAlly2.y = global.allyPos[2,2]
        
        objPlayer.x = 500
        objPlayer.y = 180
        
        objEnemy1.x = global.enemyPos[1,1]
        objEnemy1.y = global.enemyPos[1,2]
        
        objEnemy2.x = global.enemyPos[2,1]
        objEnemy2.y = global.enemyPos[2,2]
        
        objEnemy3.x = global.enemyPos[3,1]
        objEnemy3.y = global.enemyPos[3,2]
        
        objEnemy4.x = global.enemyPos[4,1]
        objEnemy4.y = global.enemyPos[4,2]
        
        objEnemy5.x = global.enemyPos[5,1]
        objEnemy5.y = global.enemyPos[5,2]
        
        objEnemy6.x = global.enemyPos[6,1]
        objEnemy6.y = global.enemyPos[6,2]

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Spawning
if room = rm_Fight{
        objAlly1.x = global.allyPos[1,1]
        objAlly1.y = global.allyPos[1,2]

        objAlly2.x = global.allyPos[2,1]
        objAlly2.y = global.allyPos[2,2]
        
        objPlayer.x = 500
        objPlayer.y = 180
        
        objEnemy1.x = global.enemyPos[1,1]
        objEnemy1.y = global.enemyPos[1,2]
        
        objEnemy2.x = global.enemyPos[2,1]
        objEnemy2.y = global.enemyPos[2,2]
        
        objEnemy3.x = global.enemyPos[3,1]
        objEnemy3.y = global.enemyPos[3,2]
        
        objEnemy4.x = global.enemyPos[4,1]
        objEnemy4.y = global.enemyPos[4,2]
        
        objEnemy5.x = global.enemyPos[5,1]
        objEnemy5.y = global.enemyPos[5,2]
        
        objEnemy6.x = global.enemyPos[6,1]
        objEnemy6.y = global.enemyPos[6,2]

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Grid Destroy
mp_grid_destroy(global.grid)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>other</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Game Controller
//Initialization
Z -= 1
if Z &lt;= 0 
{
    if room = rmINI room_goto_next()
    instance_activate_object(objPlayer) //Player
}
//roomCorners and disabling far away objects
x = view_xview[0]
y = view_yview[0]
xZ = x+view_wview[0]
yZ = y+view_hview[0]
instance_deactivate_region(x,y,xZ,yZ, false, true);
instance_activate_region(view_xview[0], view_yview[0], view_wview[0], view_hview[0], true);
//Nessasary Objects are activated here
instance_activate_object(objPlayer) //Player
instance_activate_object(objRoomTransfer)
//Debug
if Pause = false
{
    if keyboard_check_pressed(vk_subtract) 
    {
        with instance_create(0,0,objRoomTransfer) // &lt;-handle room transfers
        {
            targetRoom = "PREVIOUS"
            //Load = 480
        }
    }
    if keyboard_check_pressed(vk_add)
    {
        with instance_create(0,0,objRoomTransfer) // &lt;-handle room transfers
        {
            targetRoom = "NEXT"
            //Load = 480
        }
    }
}
//Pause Handle
        if quitting = true b = 1
        else b = 0
        if quitting = false
        {
            a = 0
            if keyboard_check_pressed(vk_escape) and Pause == true
            {
                Pause = false
                C = false
            }else if keyboard_check_pressed(vk_escape) and Pause == false
            {
                Pause = true
            }
        }
        if Pause = true
        {
            instance_deactivate_all(true)
        }
        if Pause = false instance_activate_all()
        if (mouse_x = mouse_xprevious or mouse_y = mouse_yprevious) and (keyboard_check_pressed(vk_left) or keyboard_check_pressed(vk_right)) and quitting = true
        {
            mouseUsage = false
        }
        
        if (mouse_x = mouse_xprevious or mouse_y = mouse_yprevious) and (keyboard_check_pressed(vk_up) or keyboard_check_pressed(vk_down)) 
        {
            mouseUsage = false
            if C = false
            {
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xa,view_yview+ya,view_xview+xb,view_yview+yb) Set = 0
                else if point_in_rectangle(mouse_x,mouse_y,view_xview+xc,view_yview+yc,view_xview+xd,view_yview+yd) Set = 1
                else if point_in_rectangle(mouse_x,mouse_y,view_xview+xe,view_yview+ye,view_xview+xf,view_yview+yf) Set = 2
                else if point_in_rectangle(mouse_x,mouse_y,view_xview+xg,view_yview+yg,view_xview+xh,view_yview+yh) Set = 3
                else if point_in_rectangle(mouse_x,mouse_y,view_xview+xi,view_yview+yi,view_xview+xj,view_yview+yj) Set = 4
                else if point_in_rectangle(mouse_x,mouse_y,view_xview+xk,view_yview+yk,view_xview+xl,view_yview+yl) Set = 5
                else Set = Setprevious
                C = true
            }
        }
        if (mouse_x != mouse_xprevious or mouse_y != mouse_yprevious) 
        {
            mouseUsage = true
            Set = -99
            C = false
        }
        
        if Set != -99 Setprevious = Set
        mouse_xprevious = mouse_x
        mouse_yprevious = mouse_y
        if keyboard_check_pressed(vk_up)
        {
            Set -= 1
        }
        if keyboard_check_pressed(vk_down)
        {
            Set += 1
        }
        if Set &gt; MAX-1 Set = 0
        if Set &lt; 0 and Set != -99 Set = MAX-1
        
//----//            //----//
//       Pause Menu       //
//----//            //----//
if Pause = true
{
    if quitting = false
    {
            draw_set_halign(fa_center)
            draw_set_valign(fa_center)
            draw_set_alpha(1)
            draw_set_colour(c_black)
            draw_rectangle(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,false)
            draw_set_colour(c_white)
            draw_text(view_xview+(view_wview/2),view_yview+(view_hview/2),"Game Paused")
            draw_set_halign(fa_left)
            draw_set_valign(fa_top)
            
            if Bcar0 = true
                {
                    t = (t + increment) mod 360;
                    if t &gt;= 360 
                    {
                        Bcar0 = false
                    }
                }
                MAX = 0
                MAX +=1
        draw_set_alpha(.1)
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xa,view_yview+ya,view_xview+xb,view_yview+yb) and mouseUsage = true
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xb+1,view_yview+ya,view_xview+xb+1+shift+(amplitude),view_yview+yb,false)
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        Pause = false
                    }
                }
                if Set = 0
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xb+1,view_yview+ya,view_xview+xb+1+shift+(amplitude),view_yview+yb,false)
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        Pause = false
                    }
                }
            draw_set_colour(c_white)
            draw_rectangle(view_xview+xa,view_yview+ya,view_xview+xb,view_yview+yb,false)
            draw_set_alpha(1)
            draw_set_font(fntTextBox)
            draw_text(view_xview+xa,view_yview+ya-1,"Resume")
        draw_set_alpha(.1)
                MAX +=1
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xc,view_yview+yc,view_xview+xd,view_yview+yd) and mouseUsage = true
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xd+1,view_yview+yc,view_xview+xd+1+shift+(amplitude),view_yview+yd,false)
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        scrSaveFunc()
                        Pause = false
                    }
                }
                if Set = 1
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xd+1,view_yview+yc,view_xview+xd+1+shift+(amplitude),view_yview+yd,false)
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        scrSaveFunc()
                        Pause = false
                    }
                }
            draw_set_colour(c_white)
            draw_rectangle(view_xview+xc,view_yview+yc,view_xview+xd,view_yview+yd,false)
            draw_set_alpha(1)
            draw_set_font(fntTextBox)
            draw_text(view_xview+xc,view_yview+yc-1,"Save Game")
        draw_set_alpha(.1)
                MAX +=1
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xe,view_yview+ye,view_xview+xf,view_yview+yf) and mouseUsage = true
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xf+1,view_yview+ye,view_xview+xf+1+shift+(amplitude),view_yview+yf,false)
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        scrLoadFunc()
                        instance_activate_all()
                        Pause = false
                    }
                }
                if Set = 2
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xf+1,view_yview+ye,view_xview+xf+1+shift+(amplitude),view_yview+yf,false)
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        scrLoadFunc()
                        instance_activate_all()
                        Pause = false
                    }
                }
            draw_set_colour(c_white)
            draw_rectangle(view_xview+xe,view_yview+ye,view_xview+xf,view_yview+yf,false)
            draw_set_alpha(1)
            draw_set_font(fntTextBox)
            draw_text(view_xview+xe,view_yview+ye-1,"Load Game")
        draw_set_alpha(.1)
                MAX +=1
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xg,view_yview+yg,view_xview+xh,view_yview+yh) and mouseUsage = true
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xh+1,view_yview+yg,view_xview+xh+1+shift+(amplitude),view_yview+yh,false)
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        
                        Pause = false
                    }
                }
                if Set = 3
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xh+1,view_yview+yg,view_xview+xh+1+shift+(amplitude),view_yview+yh,false)
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        
                        Pause = false
                    }
                }
            draw_set_colour(c_white)
            draw_rectangle(view_xview+xg,view_yview+yg,view_xview+xh,view_yview+yh,false)
            draw_set_alpha(1)
            draw_set_font(fntTextBox)
            draw_text(view_xview+xg,view_yview+yg-1,"XE")
        draw_set_alpha(.1)
                MAX +=1
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xi,view_yview+yi,view_xview+xj,view_yview+yj) and mouseUsage = true
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xj+1,view_yview+yi,view_xview+xj+1+shift+(amplitude),view_yview+yj,false)
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        room_goto(rmMainMenu)
                        instance_activate_all()
                        Pause = false
                    }
                }
                if Set = 4
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xj+1,view_yview+yi,view_xview+xj+1+shift+(amplitude),view_yview+yj,false)
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        room_goto(rmMainMenu)
                        instance_activate_all()
                        Pause = false
                    }
                }
            draw_set_colour(c_white)
            draw_rectangle(view_xview+xi,view_yview+yi,view_xview+xj,view_yview+yj,false)
            draw_set_alpha(1)
            draw_set_font(fntTextBox)
            draw_text(view_xview+xi,view_yview+yi-1,"Quit to Main Menu")
        draw_set_alpha(.1)
                MAX +=1
                if point_in_rectangle(mouse_x,mouse_y,view_xview+xk,view_yview+yk,view_xview+xl,view_yview+yl) and mouseUsage = true
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xl+1,view_yview+yk,view_xview+xl+1+shift+(amplitude),view_yview+yl,false)
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        a -= 1
                        quitting = true
                    }
                }
                if Set = 5
                {
                            shift = amplitude * sin(degtorad(t));
                            yy += vspeed;
                            draw_set_alpha(.2)
                            draw_rectangle(view_xview+xl+1,view_yview+yk,view_xview+xl+1+shift+(amplitude),view_yview+yl,false)
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        a -= 1
                        quitting = true
                    }
                }
            draw_set_colour(c_white)
            draw_rectangle(view_xview+xk,view_yview+yk,view_xview+xl,view_yview+yl,false)
            draw_set_alpha(1)
            draw_text(view_xview+xk,view_yview+yk-1,"Quit to Desktop")
    }
}
        //----//
        //QuitMenu
        if quitting = true and b = 1
        {
            if keyboard_check_pressed(vk_left)
            {
                SetQ -= 1
            }
            if keyboard_check_pressed(vk_right)
            {
                SetQ += 1
            }
            if SetQ &lt; 0 SetQ = 1
            if SetQ &gt; 1 SetQ = 0
                draw_set_halign(fa_center)
                draw_set_valign(fa_center)
                draw_set_font(fntTextBox)
                draw_set_alpha(1)
                draw_set_colour(c_black)
                draw_rectangle(view_xview,view_yview,view_xview+view_wview,view_yview+view_hview,false)
                draw_set_colour(c_white)
                draw_text(view_xview+(view_wview/2),view_yview+(view_hview/2),"Are you sure you want to quit?")
                draw_set_alpha(.1)
                if point_in_rectangle(mouse_x,mouse_y,view_xview+(view_wview/2)-156,view_yview+(view_hview/2)+12,view_xview+(view_wview/2)-20,view_yview+(view_hview/2)+22) and mouseUsage = true
                {
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        quitting = false
                    }
                }
                if SetQ = 0 and mouseUsage = false
                {
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        quitting = false
                    }
                }
                draw_rectangle(view_xview+(view_wview/2)-156,view_yview+(view_hview/2)+12,view_xview+(view_wview/2)-20,view_yview+(view_hview/2)+22,false)
                draw_set_alpha(.1)
                if point_in_rectangle(mouse_x,mouse_y,view_xview+(view_wview/2)+20,view_yview+(view_hview/2)+12,view_xview+(view_wview/2)+156,view_yview+(view_hview/2)+22) and mouseUsage = true
                {
                    draw_set_alpha(.2)
                    if mouse_check_button_pressed(mb_left)
                    {
                        instance_activate_all()
                        game_end()
                    }
                }
                if SetQ = 1 and mouseUsage = false
                {
                    draw_set_alpha(.2)
                    if keyboard_check_pressed(vk_enter)
                    {
                        instance_activate_all()
                        game_end()
                    }
                }
                draw_rectangle(view_xview+(view_wview/2)+20,view_yview+(view_hview/2)+12,view_xview+(view_wview/2)+156,view_yview+(view_hview/2)+22,false)
                draw_set_valign(fa_top)
                draw_set_alpha(1)
                draw_text(view_xview+(view_wview/2)-88,view_yview+(view_hview/2)+11,"No")
                draw_text(view_xview+(view_wview/2)+88,view_yview+(view_hview/2)+11,"Yes")
                draw_set_halign(fa_left)
        }
        if a &lt; 0 
        {
            b = 1
            a = 0
        }
//----//
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
